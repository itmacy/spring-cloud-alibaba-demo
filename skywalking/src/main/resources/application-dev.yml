server:
  port: 9009
spring:
  application:
    name: skywalking-service
  cloud:
    nacos: # nacosæœåŠ¡æ³¨å†Œä¸å‘ç°
      server-addr: 127.0.0.1:8848 # nacosæœåŠ¡å™¨åœ°å€
    gateway: # gatewayé…ç½®
      routes:
        - id: order_route # è·¯ç”±çš„å”¯ä¸€æ ‡è¯†
          uri: lb://stock-service # éœ€è¦è½¬å‘åˆ°çš„åœ°å€,lb:ä½¿ç”¨nacosä¸­æœ¬åœ°è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œstock-service:éœ€è¦è½¬å‘çš„æœåŠ¡å
          predicates: # æ–­è¨€è§„åˆ™ï¼Œç”¨äºè·¯ç”±è§„åˆ™çš„åŒ¹é…
            - Path=/stock-service/**
            # ä¾‹å¦‚ç”±http://localhost:9008/stock-service/stock/deduct è·¯ç”±åˆ°ğŸ‘‡
            # http://localhost:9100/stock-service/stock/deduct
          filters:
            - StripPrefix=1 # è½¬å‘ä¹‹å‰å»é™¤ç¬¬ä¸€å±‚è·¯å¾„
            # http://localhost:9100/stock/deduct
        - id: order_openfeign_route # è·¯ç”±çš„å”¯ä¸€æ ‡è¯†
          uri: lb://order-openfeign # éœ€è¦è½¬å‘åˆ°çš„åœ°å€,lb:ä½¿ç”¨nacosä¸­æœ¬åœ°è´Ÿè½½å‡è¡¡ç­–ç•¥
          predicates: # æ–­è¨€è§„åˆ™ï¼Œç”¨äºè·¯ç”±è§„åˆ™çš„åŒ¹é…
            - Path=/order-openfeign/**
          filters:
            - StripPrefix=1 # è½¬å‘ä¹‹å‰å»é™¤ç¬¬ä¸€å±‚è·¯å¾„
        - id: order_seata_route # è·¯ç”±çš„å”¯ä¸€æ ‡è¯†
          uri: lb://order-seata # éœ€è¦è½¬å‘åˆ°çš„åœ°å€,lb:ä½¿ç”¨nacosä¸­æœ¬åœ°è´Ÿè½½å‡è¡¡ç­–ç•¥
          predicates: # æ–­è¨€è§„åˆ™ï¼Œç”¨äºè·¯ç”±è§„åˆ™çš„åŒ¹é…
            - Path=/order-seata/**
          filters:
            - StripPrefix=1 # è½¬å‘ä¹‹å‰å»é™¤ç¬¬ä¸€å±‚è·¯å¾„